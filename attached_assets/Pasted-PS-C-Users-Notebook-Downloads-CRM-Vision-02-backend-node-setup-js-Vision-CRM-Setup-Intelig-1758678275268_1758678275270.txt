PS C:\Users\Notebook\Downloads\CRM-Vision 02\backend> node .\setup.js
ğŸš€ Vision CRM - Setup Inteligente v2.1
=====================================
ğŸ§  Detectando e corrigindo problemas automaticamente...
ğŸ”„ Tentativa 1/3
ğŸ”Œ Conectando como admin...
âœ… Admin conectado
ğŸ” Validando PostgreSQL...
âœ… PostgreSQL detectado: 16.9,
ğŸ—„ï¸ Checando banco "visioncrm"...
âœ… Banco jÃ¡ existe
ğŸ‘¤ Checando usuÃ¡rio "visioncrm_user"...
ğŸ”’ Senha do usuÃ¡rio atualizada
âœ… PermissÃµes bÃ¡sicas concedidas
ğŸ”Œ Conectando ao banco "visioncrm"...
âœ… Conectado ao banco CRM
ğŸ›¡ï¸ Ajustando permissÃµes do schema public...
âœ… PermissÃµes do schema ajustadas
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Update available 6.15.0 -> 6.16.2                      â”‚
â”‚  Run the following to update                            â”‚
â”‚    npm i --save-dev prisma@latest                       â”‚
â”‚    npm i @prisma/client@latest                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ” Generated Prisma Client (v6.15.0) to .\node_modules\@prisma\client in 72ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints

ğŸ”„ Aplicando migraÃ§Ãµes com auto-correÃ§Ã£o...
âš¡ Executando: npx prisma migrate dev --name auto_migration
Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma
Datasource "db": PostgreSQL database "visioncrm", schema "public" at "localhost:5432"

Already in sync, no schema change or pending migration was found.

âœ” Generated Prisma Client (v6.15.0) to .\node_modules\@prisma\client in 73ms


âœ… MigraÃ§Ãµes aplicadas com sucesso
ğŸ”„ Regenerando client final...
âš¡ Executando: npx prisma generate
Environment variables loaded from .env
Prisma schema loaded from prisma\schema.prisma

âœ” Generated Prisma Client (v6.15.0) to .\node_modules\@prisma\client in 90ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints

âœ… Prisma configurado com sucesso
ğŸŒ± Verificando dados iniciais...
ğŸ—‘ï¸ Dados existentes detectados. Limpando para recriar...
ğŸ§¹ Limpando dados existentes...
âœ… Dados existentes removidos com sucesso
ğŸ¯ Criando dados exemplo para Kanban...
âœ… Dados exemplo do Kanban e tarefas criados
âœ… UsuÃ¡rio criado com sucesso!
ğŸ“§ Email: admin@demo.com
ğŸ” Senha: 123456
ğŸ¯ Plano: PREMIUM (30 dias)
ğŸ“… Trial vÃ¡lido atÃ©: 23/10/2025
ğŸŒ± Executando seed completo com dados exemplares...
âš¡ Executando: node seed-data.js --reset
âœ… Seed completo executado com sucesso!
ğŸ“Š Dados criados:
   ğŸ¢ 3 Empresas
   ğŸ‘¥ 3 UsuÃ¡rios (admin, vendedor, gerente)
   ğŸ‘¤ 5 Clientes diversos
   ğŸ¯ 7 Oportunidades (Kanban completo)
   ğŸ“‹ 10 Tarefas com prazos
ğŸ§ª ConexÃ£o ok - DB: visioncrm em 23/09/2025, 22:44:08
ğŸ“Š Tabelas encontradas: 6
   - _prisma_migrations
   - clientes
   - empresas
   - oportunidades
   - tarefas
   - usuarios
âœ… Todas as tabelas principais estÃ£o presentes
âœ… Sistema de trial configurado corretamente
âœ… Sistema Kanban: 7 oportunidades

=====================================
ğŸ‰ Setup concluÃ­do com sucesso!
âœ¨ Todos os problemas foram resolvidos automaticamente!

ğŸ”— Database URL: postgresql://visioncrm_user:VisionCRM2024!%40@localhost:5432/visioncrm?schema=public
ğŸš€ Para iniciar: npm run dev
ğŸ‘¤ Login demo: admin@demo.com / 123456
ğŸ“Š Kanban: Dados exemplo incluÃ­dos
ğŸŒ± Dados completos: empresas, usuÃ¡rios, clientes, oportunidades e tarefas

